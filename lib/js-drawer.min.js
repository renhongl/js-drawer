!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var o in n)("object"==typeof exports?exports:t)[o]=n[o]}}(window,(function(){return function(t){function e(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:o})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(o,i,function(e){return t[e]}.bind(null,i));return o},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){function o(t){var e=this;this.container=t.container||document.body,this.c=document.createElement("canvas"),this.ctx=this.c.getContext("2d"),this.preCtx=this.c.getContext("2d"),this.width=t.width||400,this.height=t.height||400,this.drawing=!1,this.lastPoint=!0,this.dataStore=[],this.colorStore=[],this.fontStore=[],this.timerStore=[],this.typeStore=[],this.stop=!0,this.state="pencil",this.tempPoint=[],this.reverse=!1,this.size=t.size||1,this.speed=t.speed||20,this.loop=t.loop||3e3,this.color=t.color||"#000000",t.toolBar&&this.createToolBar(),this.container.appendChild(this.c),this.c.setAttribute("width",this.width),this.c.setAttribute("height",this.height),this.c.addEventListener("mousedown",(function(t){e.mouseDownHandler.call(e,t)})),this.c.addEventListener("mouseup",(function(t){e.mouseUpHandler.call(e,t)})),this.c.addEventListener("mousemove",(function(t){e.mouseMoveHandler.call(e,t)})),this.c.addEventListener("click",(function(t){e.clickHandler.call(e,t)})),this.c.addEventListener("dblclick",(function(t){e.dblClickHandler.call(e,t)}))}n(1),o.prototype.setStyles=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n])},o.prototype.createToolBar=function(){var t=this,e=this.container,n={border:"none",height:"30px",padding:"0 5px",margin:"5px",borderRadius:"5px",boxShadow:"0 0 4px rgba(0,0,0,0.2)",cursor:"pointer",outline:"none"},o={height:"30px",borderRadius:"5px",margin:"5px",border:"none",boxShadow:"inset 0 0 4px rgba(0,0,0,0.5)",paddingLeft:"5px",width:"50px",outline:"none"},i=document.createElement("style");i.appendChild(document.createTextNode("\n            #tools button:hover{\n                background: #c7c1c1;\n            }\n            #tools .active{\n                background: #c7c1c1;\n            }\n        ")),document.getElementsByTagName("head")[0].appendChild(i);var r=document.createElement("div");r.setAttribute("id","tools"),e.appendChild(r),this.setStyles(r,{height:"50px",display:"flex",justifyContent:"center",alignItems:"center"});var s=document.createElement("button");s.setAttribute("id","pencil"),s.setAttribute("class","active"),r.appendChild(s),s.innerText="Pencil",this.setStyles(s,n);var a=document.createElement("button");a.setAttribute("id","pen"),r.appendChild(a),a.innerText="Pen",this.setStyles(a,n);var c=document.createElement("button");c.setAttribute("id","rect"),r.appendChild(c),c.innerText="Rect",this.setStyles(c,n);var l=document.createElement("button");l.setAttribute("id","clear"),r.appendChild(l),l.innerText="Clear",this.setStyles(l,n);var h=document.createElement("button");h.setAttribute("id","preview"),r.appendChild(h),h.innerText="Run",this.setStyles(h,n);var d=document.createElement("input");d.setAttribute("id","color"),d.setAttribute("type","color"),r.appendChild(d),d.innerText="Color",this.setStyles(d,n);var u=document.createTextNode("Size ");r.appendChild(u);var p=document.createElement("input");p.setAttribute("id","size"),p.setAttribute("placeholder","Size"),p.setAttribute("value",this.size),r.appendChild(p),p.innerText="Size",this.setStyles(p,o);var f=document.createTextNode("Speed ");r.appendChild(f);var v=document.createElement("input");v.setAttribute("id","speed"),v.setAttribute("placeholder","Speed"),v.setAttribute("value",this.speed),r.appendChild(v),v.innerText="Speed",this.setStyles(v,o);var m=document.createTextNode("Loop ");r.appendChild(m);var y=document.createElement("input");y.setAttribute("id","loop"),y.setAttribute("placeholder","loop"),y.setAttribute("value",this.loop),r.appendChild(y),y.innerText="Loop",this.setStyles(y,o),p.addEventListener("change",(function(e){t.sizeHandler.call(t,e)})),v.addEventListener("change",(function(e){t.speedHandler.call(t,e)})),y.addEventListener("change",(function(e){t.loopHandler.call(t,e)})),d.addEventListener("change",(function(e){t.colorHandler.call(t,e)})),l.addEventListener("click",(function(e){t.clearAll.call(t,e)})),a.addEventListener("click",(function(e){t.penClickHandler.call(t,e),s.classList.remove("active"),c.classList.remove("active"),a.classList.add("active")})),s.addEventListener("click",(function(e){t.pencilClickHandler.call(t,e),a.classList.remove("active"),c.classList.remove("active"),s.classList.add("active")})),c.addEventListener("click",(function(e){t.rectClickHandler.call(t,e),a.classList.remove("active"),s.classList.remove("active"),c.classList.add("active")})),h.addEventListener("click",(function(e){t.animate.call(t,e)}))},o.prototype.rectClickHandler=function(){this.state="rect",console.log(this.state)},o.prototype.typeHandler=function(t){this.type=t.target.value},o.prototype.animate=function(){this.drawRun(this.preCtx)},o.prototype.colorHandler=function(t){this.color=t.target.value},o.prototype.sizeHandler=function(t){this.size=t.target.value},o.prototype.speedHandler=function(t){this.speed=t.target.value},o.prototype.loopHandler=function(t){this.loop=t.target.value},o.prototype.clearAll=function(){this.stop=!0,this.clearTimer(),this.dataStore=[],this.fontStore=[],this.colorStore=[],this.drawing=!1,this.lastPoint=!0,this.ctx.clearRect(0,0,this.width,this.height)},o.prototype.clearCanvas=function(t){t.clearRect(0,0,this.width,this.height)},o.prototype.setStrokeStyles=function(t,e,n){t.strokeStyle=n[e]},o.prototype.getNumber=function(t){return Number.parseInt(t)},o.prototype.clickHandler=function(t){if(this.stop=!0,this.clearTimer(),"pen"===this.state){this.lastPoint&&(this.dataStore.push([]),this.typeStore.push("line"),this.lastPoint=!1,this.colorStore.push(this.color),this.fontStore.push(this.size));var e=this.dataStore[this.dataStore.length-1];if(0<e.length){var n=e[e.length-1],o=this.createPoints(10,n,[t.offsetX,t.offsetY]);this.dataStore[this.dataStore.length-1]=e.concat(o)}e.push([t.offsetX,t.offsetY]),this.draw(this.ctx)}else this.state},o.prototype.createPoints=function(t,e,n){for(var o=(n[0]-e[0])/t,i=(n[1]-e[1])/t,r=[],s=1;s<t;s++)r.push([e[0]+o*s,e[1]+i*s]);return r},o.prototype.dblClickHandler=function(t){"pen"===this.state?(this.lastPoint&&this.dataStore.push([]),this.dataStore[this.dataStore.length-1].push([t.offsetX,t.offsetY]),this.lastPoint=!0,this.tempPoint=[],this.draw(this.ctx)):this.state},o.prototype.draw=function(t){var e=this;this.clearCanvas(t);var n=[],o=0;this.dataStore.forEach((function(i,r){o=r,e.setStrokeStyles(t,r,e.colorStore,e.fontStore),i.forEach((function(o,s){if(t.beginPath(),i.length-1===s&&(n=o),0===s)"rect"===e.state?(t.moveTo(o[0],o[1]),e.drawByType(o,t,r),t.stroke()):t.moveTo(o[0],o[1]);else{var a=i[s-1];e.drawByType(o,t,r,a),t.stroke()}})),t.stroke(),t.closePath()})),t.beginPath(),e.drawByType(this.tempPoint,t,o,n),t.stroke()},o.prototype.mouseDownHandler=function(t){this.stop=!0,this.clearTimer(),"pen"===this.state||("pencil"===this.state?(this.dataStore.push([]),this.colorStore.push(this.color),this.fontStore.push(this.size),this.typeStore.push("line"),this.dataStore[this.dataStore.length-1].push([t.offsetX,t.offsetY]),this.drawing=!0):"rect"===this.state&&(this.dataStore.push([]),this.colorStore.push(this.color),this.fontStore.push(this.size),this.typeStore.push("rect"),this.dataStore[this.dataStore.length-1].push([t.offsetX,t.offsetY]),this.drawing=!0))},o.prototype.mouseUpHandler=function(){this.drawing=!1},o.prototype.throttling=function(t,e){var n;return function(){for(var o=arguments.length,i=Array(o),r=0;r<o;r++)i[r]=arguments[r];n||(n=setTimeout((function(){t.apply(this,i),n=null}),e))}},o.prototype.mouseMoveHandler=function(t){if("pen"===this.state)this.lastPoint||(this.tempPoint=[t.offsetX,t.offsetY],this.draw(this.ctx));else if("pencil"===this.state)this.drawing&&(this.dataStore[this.dataStore.length-1].push([t.offsetX,t.offsetY]),this.draw(this.ctx));else if("rect"===this.state&&this.drawing){var e=this.fontStore[this.fontStore.length-1];"string"!=typeof e&&(e=e[2]),this.fontStore[this.fontStore.length-1]=[t.offsetX-this.dataStore[this.dataStore.length-1][0][0],t.offsetY-this.dataStore[this.dataStore.length-1][0][1],e],this.draw(this.ctx)}},o.prototype.run=function(t,e){var n=this,o=this;if(t>=this.dataStore.length)this.loop&&!this.stop&&setTimeout((function(){n.animate()}),this.loop);else if("rect"===this.typeStore[t]){var i=setTimeout((function(){e.beginPath(),o.setStrokeStyles(e,t,o.colorStore,o.fontStore),o.drawByType(o.dataStore[t][0],e,t),e.stroke(),o.run(t+1,e)}),10*this.speed);this.timerStore.push(i)}else for(var r=function(i){var r=n.dataStore[t][i],s=i*n.speed,a=setTimeout((function(){var n=o.dataStore[t][i-1];e.beginPath(),o.setStrokeStyles(e,t,o.colorStore,o.fontStore),o.drawByType(r,e,t,n),e.stroke(),i===o.dataStore[t].length-1&&o.run(t+1,e)}),s);n.timerStore.push(a)},s=1;s<this.dataStore[t].length;s++)r(s)},o.prototype.drawByType=function(t,e,n,o){var i=this.typeStore[n];"rect"===i?(e.lineWidth=this.fontStore[n][2],e.rect(t[0],t[1],this.fontStore[n][0],this.fontStore[n][1])):"line"===i?(e.lineWidth=this.fontStore[n],o&&e.moveTo(o[0],o[1]),e.lineTo(t[0],t[1])):"circle"===i&&e.arc(t[0],t[1],this.fontStore[n],0,2*Math.PI)},o.prototype.clearTimer=function(){this.timerStore.forEach((function(t){clearTimeout(t)}))},o.prototype.drawRun=function(t){this.clearCanvas(t),0===this.dataStore.length||(this.stop=!1,this.run(0,t))},o.prototype.penClickHandler=function(){console.log("pen"),this.state="pen"},o.prototype.setState=function(t){this.state=t},o.prototype.setColor=function(t){this.color=t},o.prototype.setSize=function(t){this.size=t},o.prototype.setLoop=function(t){this.loop=t},o.prototype.setSpeed=function(t){this.speed=t},o.prototype.pencilClickHandler=function(){console.log("pencil"),this.state="pencil"},t.exports=o},function(t,e,n){var o=n(2),i=n(3);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);o(i,{insert:"head",singleton:!1});var r=i.locals?i.locals:{};t.exports=r},function(t,e,n){"use strict";function o(t){for(var e=-1,n=0;n<d.length;n++)if(d[n].identifier===t){e=n;break}return e}function i(t,e){for(var n={},i=[],r=0;r<t.length;r++){var s=t[r],a=e.base?s[0]+e.base:s[0],l=n[a]||0,h="".concat(a," ").concat(l);n[a]=l+1;var u=o(h),p={css:s[1],media:s[2],sourceMap:s[3]};-1===u?d.push({identifier:h,updater:c(p,e),references:1}):(d[u].references++,d[u].updater(p)),i.push(h)}return i}function r(t){var e=document.createElement("style"),o=t.attributes||{};if(void 0===o.nonce){var i=n.nc;i&&(o.nonce=i)}if(Object.keys(o).forEach((function(t){e.setAttribute(t,o[t])})),"function"==typeof t.insert)t.insert(e);else{var r=h(t.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(e)}return e}function s(t,e,n,o){var i=n?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(t.styleSheet)t.styleSheet.cssText=u(e,i);else{var r=document.createTextNode(i),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(r,s[e]):t.appendChild(r)}}function a(t,e,n){var o=n.css,i=n.media,r=n.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),r&&btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleSheet)t.styleSheet.cssText=o;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(o))}}function c(t,e){var n,o,i;if(e.singleton){var c=f++;n=p||(p=r(e)),o=s.bind(null,n,c,!1),i=s.bind(null,n,c,!0)}else n=r(e),o=a.bind(null,n,e),i=function(){!function(t){null!==t.parentNode&&t.parentNode.removeChild(t)}(n)};return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else i()}}var l=function(){var t;return function(){return void 0===t&&(t=!(!(window&&document&&document.all)||window.atob)),t}}(),h=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),d=[],u=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}(),p=null,f=0;t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=l());var n=i(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var s=o(n[r]);d[s].references--}for(var a=i(t,e),c=0;c<n.length;c++){var l=o(n[c]);0===d[l].references&&(d[l].updater(),d.splice(l,1))}n=a}}}},function(t,e,n){(e=n(4)(!1)).push([t.i,"",""]),t.exports=e},function(t){"use strict";function e(t,e){var n=t[1]||"",o=t[3];if(!o)return n;if(e&&"function"==typeof btoa){var i=function(t){var e=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),n="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(e);return"/*# ".concat(n," */")}(o),r=o.sources.map((function(t){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(t," */")}));return[n].concat(r).concat([i]).join("\n")}return[n].join("\n")}t.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var o=e(n,t);return n[2]?"@media ".concat(n[2]," {").concat(o,"}"):o})).join("")},n.i=function(t,e,o){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(o)for(var r,s=0;s<this.length;s++)null!=(r=this[s][0])&&(i[r]=!0);for(var a,c=0;c<t.length;c++)a=[].concat(t[c]),(!o||!i[a[0]])&&(e&&(a[2]?a[2]="".concat(e," and ").concat(a[2]):a[2]=e),n.push(a))},n}}])}));